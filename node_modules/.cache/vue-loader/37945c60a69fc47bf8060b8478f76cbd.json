{"remainingRequest":"/Users/xuluchun/Desktop/练习项目/gibhub-project/Answer-system/node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!/Users/xuluchun/Desktop/练习项目/gibhub-project/Answer-system/src/components/startAnswer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xuluchun/Desktop/练习项目/gibhub-project/Answer-system/src/components/startAnswer.vue","mtime":1544419131000},{"path":"/Users/xuluchun/Desktop/练习项目/gibhub-project/Answer-system/node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xuluchun/Desktop/练习项目/gibhub-project/Answer-system/node_modules/_babel-loader@8.0.4@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xuluchun/Desktop/练习项目/gibhub-project/Answer-system/node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xuluchun/Desktop/练习项目/gibhub-project/Answer-system/node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapState } from \"Vuex\";\nexport default {\n  name: \"startAnswer\",\n  methods: {\n    restartPaper(){\n      this.$store.commit('restartPaper')\n    },\n    selectAnswer(option) {\n      this.currentSelected = option['id'];\n      // 提交每题选择的答案\n      this.$store.commit('saveSelectedItem',option)\n    },\n    submit(name, currentIndex) {\n      if (this._currentAnswered(name)) {\n        this.$store.commit('changeCurrentIndex')\n      } else {\n        alert(\"请完成该题\");\n        return\n      }\n      if (currentIndex >= this.selectedPaPer.length) {\n        // 题目答完\n        this.$store.commit('finish')\n        // 提交计算的总分到vuex\n        this.$store.commit('saveTotalScore',this._calculate())\n        return;\n      }\n    },\n    // 计算分数\n    _calculate() {\n      let selectedPaPer = this.selectedPaPer,\n        selectedItem = this.selectedItem,\n        getTotalScore = 0;\n      for (let key in selectedItem) {\n        selectedPaPer.forEach(item => {\n          let answer_id = (selectedItem[key] - 1) % 4;\n          if (\n            item.topic_name === key &&\n            item.topic_answer[answer_id].is_standard_answer\n          ) {\n            getTotalScore += item.score_value;\n          }\n        });\n      }\n      return getTotalScore;\n    },\n    // 判断当前题目已作答\n    _currentAnswered(name) {\n      let selectedItem = this.selectedItem\n      for (let item in selectedItem) {\n        if (item === name) {\n          return true;\n        }\n      }\n      return false;\n    }\n  },\n  data() {\n    return {\n      currentSelected : ''\n    };\n  },\n  computed: {\n    ...mapState([\"testItem\",'selectedPaPer','selectedPaPerKey','totalScore','currentIndex', \"startStatus\",'selectedItem'])\n  }\n};\n",{"version":3,"sources":["startAnswer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"startAnswer.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"hello\">\n    <div class=\"selectPaperAgin\" v-if=\"selectedPaPerKey\" >\n      <button @click=\"restartPaper\" class=\"restartPaper\">重新选择题库</button>\n    </div>\n    <div v-for=\"(item,index) in selectedPaPer\" :key=\"index\" v-if=\"index+1 == currentIndex\">\n      <div class=\"tag\">\n        <img src=\"../images/WechatIMG2.png\" class=\"tagImg\">\n        <span class=\"selectedPaPerKey\">{{selectedPaPerKey}}</span>\n      </div>\n      <div class=\"main\">\n        <div class=\"requestionDsc\">\n          <h2 class=\"title\">{{item.topic_name}}</h2>\n          <ul class=\"requestInfo\">\n            <li v-for=\"(answer, index) in item.topic_answer\" :key=\"index\">\n              <span\n                @click=\"selectAnswer({id:answer.topic_answer_id,name:item.topic_name})\"\n                class=\"topicAnswerId\"\n                :class=\"['topicAnswerId' + (answer.topic_answer_id - 1) %4,{selectedItem : answer.topic_answer_id == currentSelected}]\"\n              >{{answer.answer_name}}</span>\n            </li>\n          </ul>\n        </div>\n        <span @click=\"submit(item.topic_name,currentIndex)\" class=\"button\"></span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"Vuex\";\nexport default {\n  name: \"startAnswer\",\n  methods: {\n    restartPaper(){\n      this.$store.commit('restartPaper')\n    },\n    selectAnswer(option) {\n      this.currentSelected = option['id'];\n      // 提交每题选择的答案\n      this.$store.commit('saveSelectedItem',option)\n    },\n    submit(name, currentIndex) {\n      if (this._currentAnswered(name)) {\n        this.$store.commit('changeCurrentIndex')\n      } else {\n        alert(\"请完成该题\");\n        return\n      }\n      if (currentIndex >= this.selectedPaPer.length) {\n        // 题目答完\n        this.$store.commit('finish')\n        // 提交计算的总分到vuex\n        this.$store.commit('saveTotalScore',this._calculate())\n        return;\n      }\n    },\n    // 计算分数\n    _calculate() {\n      let selectedPaPer = this.selectedPaPer,\n        selectedItem = this.selectedItem,\n        getTotalScore = 0;\n      for (let key in selectedItem) {\n        selectedPaPer.forEach(item => {\n          let answer_id = (selectedItem[key] - 1) % 4;\n          if (\n            item.topic_name === key &&\n            item.topic_answer[answer_id].is_standard_answer\n          ) {\n            getTotalScore += item.score_value;\n          }\n        });\n      }\n      return getTotalScore;\n    },\n    // 判断当前题目已作答\n    _currentAnswered(name) {\n      let selectedItem = this.selectedItem\n      for (let item in selectedItem) {\n        if (item === name) {\n          return true;\n        }\n      }\n      return false;\n    }\n  },\n  data() {\n    return {\n      currentSelected : ''\n    };\n  },\n  computed: {\n    ...mapState([\"testItem\",'selectedPaPer','selectedPaPerKey','totalScore','currentIndex', \"startStatus\",'selectedItem'])\n  }\n};\n</script>\n<style scoped>\n.title {\n  color: gray;\n  position: absolute;\n  left: 95px;\n  top: 35px;\n  color: rgb(178, 185, 185);\n  transform: translateX(-14%);\n  font-size: 16px;\n}\n.requestInfo {\n  position: absolute;\n  width: 100%;\n  top: 65px;\n}\n.topicAnswerId {\n  color: gray;\n  line-height: 20px;\n  font-size: 14px;\n  left: 90px;\n  position: absolute;\n}\n.selectPaperAgin{\n  text-align: center;\n  font-size: 14px;\n  width: 100px;\n  max-height: 120px;\n  position: absolute;\n  border: solid gray 1px;\n  margin: 8px;\n  border-radius: 9px;\n  background-color: rgb(96, 74, 42);\n  color: rgb(230, 172, 14);\n}\n.restartPaper{\n  color: rgb(230, 172, 14);\n}\n.topicAnswerId::before {\n  content: \"A\";\n  border: solid rgb(204, 208, 211) 1px;\n  border-radius: 50%;\n  color: rgb(204, 208, 211);\n  display: inline-block;\n  padding: 2px 3px;\n  line-height: 12px;\n  font-size: 12px;\n  vertical-align: 2px;\n  margin-right: 5px;\n}\n.selectedItem::before {\n  background-color: #f1c708;\n  color: white;\n}\n.topicAnswerId0::before {\n  content: \"A\";\n}\n.topicAnswerId1::before {\n  content: \"B\";\n}\n.topicAnswerId2::before {\n  content: \"C\";\n}\n.topicAnswerId3::before {\n  content: \"D\";\n}\n.hello {\n  position: fixed;\n  top: 0px;\n  bottom: 0px;\n  right: 0px;\n  left: 0px;\n}\n.tag {\n  width: 73px;\n  height: 163px;\n  position: absolute;\n  top: -1.3rem;\n  right: 36px;\n}\n.tagImg {\n  width: 100%;\n  height: 100%;\n}\n.selectedPaPerKey {\n  position: absolute;\n  bottom: 23px;\n  left: 50%;\n  transform: translateX(-45%);\n  font-size: 14px;\n  font-weight: 900;\n}\n.main {\n  position: absolute;\n  width: 100%;\n  top: 110px;\n}\n.requestionDsc {\n  position: relative;\n  width: 100%;\n  height: 238px;\n  display: inline-block;\n  background: url(\"../images/2-1.png\");\n  background-size: 100% 100%;\n  /* border: solid red 1px; */\n  /* padding-top: 40px; */\n}\n.button {\n  display: inline-block;\n  width: 100px;\n  height: 50px;\n  background: url(\"../../src/images/2-2.png\");\n  background-size: 100% 100%;\n}\n</style>\n"]}]}